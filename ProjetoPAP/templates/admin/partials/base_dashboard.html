{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
        <a class="navbar-brand ps-3" href="{% url 'home' %}"><i class="fa-solid fa-arrow-left" style="color: #ffffff;"></i> Página Inicial</a>
        <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle"><i class="fas fa-bars"></i></button>

        <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fa-solid fa-user fa-xl" style="color: #fff;"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                    <li><a class="dropdown-item" href="#">Editar informações da conta</a></li>
                    <li><hr class="dropdown-divider" /></li>
                    <li><a class="dropdown-item" href="{% url 'account_logout' %}">Logout</a></li>
                </ul>
            </li>
            <span style="color: white; text-align: center;">{{ request.user.username }}</span>
        </ul>
    </nav>

    <div id="layoutSidenav">
        <div id="layoutSidenav_nav">
            <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                <div class="sb-sidenav-menu">
                    <div class="nav">
                        <div class="sb-sidenav-menu-heading">INTERFACE</div>
                        <a class="nav-link" href="{% url 'admin_dashboard' %}">
                            <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt" style="color: #fff"></i></div>
                            Dashboard
                        </a>
                        <div class="sb-sidenav-menu-heading">GESTÃO</div>
                        <a class="nav-link" href="#">
                            <div class="sb-nav-link-icon"><i class="fa-solid fa-users" style="color: #fff"></i></div>
                            Utilizadores
                        </a>
                    </div>
                </div>
            </nav>
        </div>

        <div id="layoutSidenav_content">
            <main class="p-4">
                {% block dashboard_content %}
                {% endblock %}
            </main>
        </div>
    </div>

    <!-- JS personalizados (com caminho estático corrigido) -->
    <script src="{% static 'assets/JS/dashboard.js' %}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="{% static 'assets/JS/chart-area-demo.js' %}"></script>
    <script src="{% static 'assets/JS/chart-bar-demo.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
{% endblock %}
